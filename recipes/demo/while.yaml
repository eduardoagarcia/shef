recipes:
  - name: "while"
    description: "A simple demo of the while loop control flow"
    category: "demo"
    operations:
      - name: "Loop While Status is Running"
        control_flow:
          type: "while"
          condition: .complete == "false"
        operations:
          - name: "Perform Work"
            command: echo {{ color "yellow" "Service is running, performing work..." }}

          - name: "Sleep"
            command: sleep 1

          - name: "Status Check"
            id: "complete"
            command: echo "{{ if ge .iteration 3 }}true{{ else }}false{{ end }}"
            silent: true

      - name: "Show Completion"
        command: echo {{ color "green" "While loop finished - service is no longer running!" }}
